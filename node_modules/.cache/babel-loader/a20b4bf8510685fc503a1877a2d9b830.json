{"ast":null,"code":"var _jsxFileName = \"/Users/builtforsomethingbigger/Development/code/FINAL-PROJECT/chance-frontend/src/components/CharitiesPage.js\";\nimport React from 'react';\nimport DonationBar from './DonationBar';\nimport FavoritedCharityCard from './FavoritedCharityCard';\nimport '../styles/CharitiesPage.css';\nexport default class CharitiesPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColors: ['#8AC926', '#0caca4', '#F49F0A', '#d36197', '#01FDF6', '#909CC2', '#E9DF00', '#E13700', '#b161d3', '#337CA0', '#F58A07', '#04aa3b', '#03FCBA'],\n      display: true\n    };\n\n    this.allDonations = () => {\n      return this.props.donations.filter(donation => donation.user_id === this.props.currentUser.id);\n    };\n\n    this.calcBarContainer = () => {\n      const donations = this.allDonations();\n      const amounts = donations.map(donation => donation.donation_amount);\n      const maxDonation = Math.max.apply(null, amounts);\n      return maxDonation;\n    };\n\n    this.totalDonations = id => {\n      const allDonations = this.props.donations.filter(donation => donation.user_id === id);\n      const totalDonations = allDonations.map(donation => donation.donation_amount);\n      const sum = totalDonations.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      return sum;\n    };\n\n    this.userFavorites = () => {\n      const faves = this.props.favorites.filter(favorites => favorites.user_id === this.props.currentUser.id);\n      return faves;\n    };\n\n    this.goBack = this.goBack.bind(this);\n  }\n\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"charitiesPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xClose xCharitiesPage\",\n      onClick: this.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"MY CHARITIES\"), this.userFavorites().map(favorites => /*#__PURE__*/React.createElement(FavoritedCharityCard, Object.assign({\n      key: favorites.id\n    }, favorites, {\n      charities: this.props.charities,\n      currentUser: this.props.currentUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"userDonationBar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, this.allDonations().sort((a, b) => new Date(b.donation_date) - new Date(a.donation_date)).map((donation, index) => /*#__PURE__*/React.createElement(DonationBar, Object.assign({\n      key: donation.id\n    }, donation, {\n      charities: this.props.charities,\n      color: this.state.bgColors[index],\n      graphWidth: this.calcBarContainer(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/builtforsomethingbigger/Development/code/FINAL-PROJECT/chance-frontend/src/components/CharitiesPage.js"],"names":["React","DonationBar","FavoritedCharityCard","CharitiesPage","Component","constructor","props","state","bgColors","display","allDonations","donations","filter","donation","user_id","currentUser","id","calcBarContainer","amounts","map","donation_amount","maxDonation","Math","max","apply","totalDonations","sum","reduce","a","b","userFavorites","faves","favorites","goBack","bind","history","render","charities","sort","Date","donation_date","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport DonationBar from './DonationBar'\nimport FavoritedCharityCard from './FavoritedCharityCard'\nimport '../styles/CharitiesPage.css';\n\nexport default class CharitiesPage extends React.Component{\n    constructor(props){\n        super(props)\n        this.goBack = this.goBack.bind(this)\n    }\n    \n    state = {\n        bgColors: [\n            '#8AC926', \n            '#0caca4', \n            '#F49F0A', \n            '#d36197', \n            '#01FDF6',\n            '#909CC2', \n            '#E9DF00', \n            '#E13700', \n            '#b161d3', \n            '#337CA0', \n            '#F58A07',\n            '#04aa3b', \n            '#03FCBA'\n        ],\n        display: true\n    }\n\n    goBack(){\n        this.props.history.goBack();\n    }\n        \n    allDonations = () => {\n        return this.props.donations.filter(donation => donation.user_id === this.props.currentUser.id)\n    }\n\n    calcBarContainer = () => {\n        const donations = this.allDonations()\n        const amounts = donations.map(donation => donation.donation_amount)\n        const maxDonation = Math.max.apply(null, amounts)\n        return maxDonation\n    }\n\n    totalDonations = (id) => {\n        const allDonations = this.props.donations.filter(donation => donation.user_id === id)\n        const totalDonations = allDonations.map(donation => donation.donation_amount)\n        const sum = totalDonations.reduce(function(a, b){\n            return a + b;\n        }, 0);\n        return sum\n    }\n    userFavorites = () => {\n        const faves = this.props.favorites.filter(favorites => favorites.user_id === this.props.currentUser.id)\n        return faves \n    }\n    \n    render(){\n        return(\n            <div id=\"charitiesPage\">\n                <div className=\"xClose xCharitiesPage\" onClick={this.goBack}>x</div>\n                <h1>MY CHARITIES</h1>\n\n                {this.userFavorites().map(favorites => \n                    <FavoritedCharityCard key={favorites.id} {...favorites} \n                        charities={this.props.charities} \n                        currentUser={this.props.currentUser} \n                    />\n                )}\n                \n                <div id=\"userDonationBar\">\n                        {this.allDonations().sort((a,b) => new Date(b.donation_date) - new Date(a.donation_date)).map((donation, index) => \n                            <DonationBar key={donation.id} {...donation} \n                                charities={this.props.charities} \n                                color={this.state.bgColors[index]} \n                                graphWidth={this.calcBarContainer()}\n                            />\n                        )}\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}