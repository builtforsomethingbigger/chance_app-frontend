{"ast":null,"code":"var _jsxFileName = \"/Users/builtforsomethingbigger/Development/code/FINAL-PROJECT/chance-frontend/src/components/CharitiesPage.js\";\nimport React from 'react';\nimport DonationBar from './DonationBar';\nimport FavoritedCharityCard from './FavoritedCharityCard';\nimport CloseBtn from './CloseBtn';\nimport '../styles/CharitiesPage.css';\nimport '../styles/Donations.css';\nexport default class CharitiesPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColors: ['#8AC926', '#0caca4', '#F49F0A', '#d36197', '#01FDF6', '#909CC2', '#E9DF00', '#E13700', '#337CA0', '#F58A07', '#04aa3b', '#03FCBA', '#FB5012', '#FFBE86', '#464655'],\n      display: true\n    };\n\n    this.allDonations = () => {\n      return this.props.donations.filter(donation => donation.user_id === this.props.currentUser.id);\n    };\n\n    this.calcBarContainer = () => {\n      const donations = this.allDonations();\n      const amounts = donations.map(donation => donation.donation_amount);\n      const maxDonation = Math.max.apply(null, amounts);\n      return maxDonation;\n    };\n\n    this.totalDonations = id => {\n      const allDonations = this.props.donations.filter(donation => donation.user_id === id);\n      const totalDonations = allDonations.map(donation => donation.donation_amount);\n      const sum = totalDonations.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      return sum;\n    };\n\n    this.userFavorites = () => {\n      const faves = this.props.favorites.filter(favorites => favorites.user_id === this.props.currentUser.id);\n      return faves;\n    };\n\n    this.goBack = this.goBack.bind(this);\n  }\n\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"charitiesPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CloseBtn, {\n      clickHandler: () => {\n        this.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"MY CHARITIES\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"myCharitiesContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, this.userFavorites().map(favorites => /*#__PURE__*/React.createElement(FavoritedCharityCard, Object.assign({\n      key: favorites.id\n    }, favorites, {\n      charities: this.props.charities,\n      currentUser: this.props.currentUser,\n      charityCard: this.props.charityCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"myDonationsContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, \"MY DONATIONS\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"userDonationBar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, this.allDonations().sort((a, b) => new Date(b.donation_date) - new Date(a.donation_date)).map((donation, index) => /*#__PURE__*/React.createElement(DonationBar, Object.assign({\n      key: donation.id\n    }, donation, {\n      charities: this.props.charities,\n      color: this.state.bgColors[index],\n      graphWidth: this.calcBarContainer(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileInfoRow_full pad20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"donation_amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"TOTAL DONATIONS\"), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"up_12 padBottom20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"$\", this.totalDonations(this.props.currentUser.id)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/builtforsomethingbigger/Development/code/FINAL-PROJECT/chance-frontend/src/components/CharitiesPage.js"],"names":["React","DonationBar","FavoritedCharityCard","CloseBtn","CharitiesPage","Component","constructor","props","state","bgColors","display","allDonations","donations","filter","donation","user_id","currentUser","id","calcBarContainer","amounts","map","donation_amount","maxDonation","Math","max","apply","totalDonations","sum","reduce","a","b","userFavorites","faves","favorites","goBack","bind","history","render","charities","charityCard","sort","Date","donation_date","index"],"mappings":"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","sourcesContent":["import React from 'react'\nimport DonationBar from './DonationBar'\nimport FavoritedCharityCard from './FavoritedCharityCard'\nimport CloseBtn from './CloseBtn'\nimport '../styles/CharitiesPage.css';\nimport '../styles/Donations.css';\n\nexport default class CharitiesPage extends React.Component{\n    constructor(props){\n        super(props)\n        this.goBack = this.goBack.bind(this)\n    }\n    \n    state = {\n        bgColors: [\n            '#8AC926', '#0caca4', '#F49F0A', '#d36197', '#01FDF6',\n            '#909CC2', '#E9DF00', '#E13700', '#337CA0', '#F58A07',\n            '#04aa3b', '#03FCBA', '#FB5012', '#FFBE86', '#464655'\n        ],\n        display: true\n    }\n\n    goBack(){\n        this.props.history.goBack();\n    }\n        \n    allDonations = () => {\n        return this.props.donations.filter(donation => donation.user_id === this.props.currentUser.id)\n    }\n\n    calcBarContainer = () => {\n        const donations = this.allDonations()\n        const amounts = donations.map(donation => donation.donation_amount)\n        const maxDonation = Math.max.apply(null, amounts)\n        return maxDonation\n    }\n\n    totalDonations = (id) => {\n        const allDonations = this.props.donations.filter(donation => donation.user_id === id)\n        const totalDonations = allDonations.map(donation => donation.donation_amount)\n        const sum = totalDonations.reduce(function(a, b){\n            return a + b;\n        }, 0);\n        return sum\n    }\n    userFavorites = () => {\n        const faves = this.props.favorites.filter(favorites => favorites.user_id === this.props.currentUser.id)\n        return faves \n    }\n    \n    render(){\n        return(\n            <div id=\"charitiesPage\">\n                <CloseBtn clickHandler={() => {this.goBack()}}/>\n                <h1>MY CHARITIES</h1>\n                <div id=\"myCharitiesContainer\">\n                    {this.userFavorites().map(favorites => \n                        <FavoritedCharityCard key={favorites.id} {...favorites} \n                            charities={this.props.charities} \n                            currentUser={this.props.currentUser} \n                            charityCard={this.props.charityCard}\n                        />\n                    )}\n                </div>\n                \n                <div id=\"myDonationsContainer\">\n                    <h1>MY DONATIONS</h1>\n                    <div id=\"userDonationBar\">\n                            {this.allDonations()\n                                .sort((a,b) => new Date(b.donation_date) - new Date(a.donation_date))\n                                .map((donation, index) => \n                                <DonationBar key={donation.id} {...donation} \n                                    charities={this.props.charities} \n                                    color={this.state.bgColors[index]} \n                                    graphWidth={this.calcBarContainer()}\n                                />\n                            )}\n                    </div>\n                    <div className=\"profileInfoRow_full pad20\">\n                        <p className=\"donation_amount\">TOTAL DONATIONS</p>\n                        <h2 className=\"up_12 padBottom20\">${this.totalDonations(this.props.currentUser.id)}</h2>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}